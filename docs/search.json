[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Effect of Secondhand Smoke Exposure to Health",
    "section": "",
    "text": "1 Introduction"
  },
  {
    "objectID": "data.html#description",
    "href": "data.html#description",
    "title": "2  Data",
    "section": "2.1 Description",
    "text": "2.1 Description\nIn this project we download data from CDC-National Health and Nutrition Examination Survey(NHANES). This dataset is constructed by CDC, Centers for Disease Control and Prevention. NHANES is a major project of the National Center for Health Statistics (part of the CDC), and became a continuous project since 1999. The survey upadtes every year and contains records from 5000 people national wide.\nWe focus on the three questionnaire: Smoking - Cigarette Use, Smoking - Household Smokers, and Medical Conditions. Due to the Covid-19, data from cycle 2019-2020 is not completed and thus the department combine 2017-2018 with 2019-2020 to form a new version of data from 2017-2020, which is the latest version of data. We use this cycle given the great amount of records it provides.\nThis is how the data looks like:\n\n\nCode\nlibrary(haven)\n\n#read data\nhouseholds &lt;- read_xpt('data/households.XPT', \n                       col_select = c('SEQN', 'SMD470'))\nmedical &lt;- read_xpt('data/medical.XPT', \n                    col_select = c('SEQN', 'MCQ010', 'MCQ092', 'MCQ160A', \n                                   'MCQ160B', 'MCQ160C', 'MCQ160D', 'MCQ160E',\n                                   'MCQ160F', 'MCQ160M', 'MCQ160P', 'MCQ160L',\n                                   'MCQ550', 'MCQ560', 'MCQ220'))\nsmoke &lt;- read_xpt('data/smoke.XPT', \n                  col_select = c('SEQN', 'SMQ020', 'SMQ040', 'SMD650',\n                                 'SMD100FL', 'SMQ621'))\ndata &lt;- merge(households, smoke, by = 'SEQN')\ndata &lt;- merge(data, medical, by = 'SEQN')\nhead(data)\n\n\n    SEQN SMD470 SMQ020 SMQ040 SMD650 SMD100FL SMQ621 MCQ010 MCQ092 MCQ160A\n1 109264     NA     NA     NA     NA       NA      1      2      2      NA\n2 109266     NA      2     NA     NA       NA     NA      2      9       2\n3 109267     NA      2     NA     NA       NA     NA      2      2       2\n4 109268     NA      2     NA     NA       NA     NA      2      2      NA\n5 109271      2      1      1     20       NA     NA      1      2       1\n6 109273      0      1      1     15        1     NA      2      2       2\n  MCQ160B MCQ160C MCQ160D MCQ160E MCQ160F MCQ160M MCQ160P MCQ160L MCQ550 MCQ560\n1      NA      NA      NA      NA      NA      NA      NA      NA     NA     NA\n2       2       2       2       2       2       2       2       2      2      2\n3       2       2       2       2       2       2       2       2      2      2\n4      NA      NA      NA      NA      NA      NA      NA      NA     NA     NA\n5       2       2       2       2       2       2       1       2      2      2\n6       2       2       2       2       2       2       2       2      2      2\n  MCQ220\n1     NA\n2      2\n3      2\n4     NA\n5      2\n6      2\n\n\nThe Description of each variable is as below:\n\n\n\n\nIndex\nVariable Description\n\n\n\n\nSEQN\nRespondent sequence number\n\n\nSMD470\n# of people who smoke inside this home\n\n\nSMQ020\nSmoked at least 100 cigarettes in life\n\n\nSMQ040\nDo you now smoke cigarettes?\n\n\nSMD650\nAvg # cigarettes/day during past 30 days\n\n\nSMD100FL\nCigarette Filter type\n\n\nSMQ621\nCigarettes smoked in entire life\n\n\nMCQ010\nEver been told you have asthma\n\n\nMCQ092\nEver receive blood transfusion\n\n\nMCQ160A\nDoctor ever said you had arthritis\n\n\nMCQ160B\nEver told had heart failure\n\n\nMCQ160C\nEver told had coronary heart disease\n\n\nMCQ160D\nEver told had angina/angina pectoris\n\n\nMCQ160E\nEver told had heart attack\n\n\nMCQ160F\nEver told you had a stroke\n\n\nMCQ160M\nEver told you had thyroid problem\n\n\nMCQ160P\nEver told you had COPD, emphysema, ChB\n\n\nMCQ160L\nEver told you had any liver condition\n\n\nMCQ550\nHas DR ever said you have gallstones\n\n\nMCQ560\nEver had gallbladder surgery\n\n\nMCQ220\nEver told you had cancer or malignancy\n\n\n\n\nWe would like to use SMQ020-SMQ621 to reflect the personal smoking status and MCQ010-MCQ220 to indicate the personal health status, which contains doctor diagnoses to diverse types of diseases. We would also like to include SMD470 as a reflect of secondhand smoke exposure to find if there is any possibility that secondhand smoke exposure has effect to health."
  },
  {
    "objectID": "data.html#missing-value-analysis",
    "href": "data.html#missing-value-analysis",
    "title": "2  Data",
    "section": "2.3 Missing value analysis",
    "text": "2.3 Missing value analysis\nThis number of missing values for each variable is as below:\n\n\nCode\ncount &lt;- nrow(data)\nmissing &lt;- data %&gt;%\n    gather(key = \"key\", value = \"val\") %&gt;%\n    mutate(is.missing = is.na(val)) %&gt;%\n    group_by(key, is.missing) %&gt;%\n    summarise(num.missing = n()) %&gt;%\n    filter(is.missing==T) %&gt;%\n    select(-is.missing) %&gt;%\n    arrange(desc(num.missing)) %&gt;%\n    mutate(num.contain = count - num.missing)\n\n\n`summarise()` has grouped output by 'key'. You can override using the `.groups`\nargument.\n\n\nWe use a histogram and pie charts to visualize the missing values:\n\n\nCode\nggplot(missing) + geom_bar(aes(x = key, y = num.missing), stat = 'identity') +\n  labs(x = 'variables', y = 'count of missing values', title = 'Bar plot of missing values') +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n\n\n\n\n\n\n\nCode\ncount &lt;- length(missing$num.missing)\npie &lt;- data.frame('value' = c(missing$num.missing, missing$num.contain),\n                  'category' = c(rep('miss', count), rep('contain', count)),\n                  'variable' = c(rep(missing$key, 2)))\nggplot(pie, aes(x = '', y = value, fill = category)) + geom_col() +\n  coord_polar(theta = 'y', start = 0) + facet_wrap(~variable) + \n  labs(x = '', y = '', title = 'Pie charts of missing values') +\n  theme(axis.text = element_blank(),\n        axis.ticks = element_blank(),\n        panel.grid  = element_blank())\n\n\n\n\n\nWe can see that there are a fixed number of missing values for a bunch of medical variables (MCQ160A - MCQ220). Since we have about 10k data in total and 1905 is not a big number, we choose to delete these records.\n\n\nCode\ndata &lt;- data %&gt;%\n  drop_na(c('MCQ160A', 'MCQ160B', 'MCQ160C', 'MCQ160D', 'MCQ160E', 'MCQ160F',\n            'MCQ160M', 'MCQ160P', 'MCQ160L', 'MCQ550', 'MCQ560', 'MCQ220'))\n\n\nRegarding the smoking status variables, we decide to drop SMD650, SMD100FL, and SMQ621 variables since there are too many missing values. For the rest of the data we drop any row contain NAs.\n\n\nCode\ndata &lt;- data %&gt;%\n  select(-c('SMD650', 'SMD100FL', 'SMQ621')) %&gt;%\n  drop_na()\n\n\n\n\nCode\nhead(data)\n\n\n    SEQN SMD470 SMQ020 SMQ040 MCQ010 MCQ092 MCQ160A MCQ160B MCQ160C MCQ160D\n1 109271      2      1      1      1      2       1       2       2       2\n2 109273      0      1      1      2      2       2       2       2       2\n3 109307      0      1      3      2      2       2       2       2       1\n4 109323      0      1      3      2      2       2       2       2       2\n5 109334      0      1      1      2      2       2       2       2       2\n6 109342      2      1      1      2      2       1       2       2       2\n  MCQ160E MCQ160F MCQ160M MCQ160P MCQ160L MCQ550 MCQ560 MCQ220\n1       2       2       2       1       2      2      2      2\n2       2       2       2       2       2      2      2      2\n3       2       2       2       2       2      2      2      2\n4       2       2       2       2       2      2      2      2\n5       2       2       2       2       2      2      2      2\n6       2       2       1       2       2      2      1      2\n\n\nCode\nprint(paste('There are ', nrow(data), ' records in total.'))\n\n\n[1] \"There are  1829  records in total.\"\n\n\nThe result data looks clean now. We have 1829 records in total, which is a sufficient amount."
  },
  {
    "objectID": "data.html#research-plan",
    "href": "data.html#research-plan",
    "title": "2  Data",
    "section": "2.2 Research plan",
    "text": "2.2 Research plan\nWe would like to start with a classic question: the effect of smoking to health. This question has been studied for years and has several well-known results like smoking will increase the risk for lung cancer. In out study, we would like examine the influence of smoking to health condition comprehensively, including its effect to heart, liver, etc. We are especially interested in discovering the relation between smoking to health problems that are not thought to be related to smoking in general.\nTo achieve this goal, we would like to use various visualization method including mosaic plot and histogram by condition to see if there are any apparant relations. We also want to use pearson correlation with heatmap visualization to measure the relation between smoking to different health benchmarks.\nAfter this, we plan to find the effect of secondhand smoke exposure to health conditions. Secondhand smoke exposure is nowadays a common phenomenon, but people tend to oversee this problem compared to the direct influence by cigarette. Therefore, we would like to repeat the procedure as before but change the smoking variable to secondhand smoke exposure to find its possible effect to one’s health condition."
  },
  {
    "objectID": "data.html#technical-description",
    "href": "data.html#technical-description",
    "title": "2  Data",
    "section": "2.1 Technical Description",
    "text": "2.1 Technical Description\nIn this project we download data from CDC-National Health and Nutrition Examination Survey(NHANES). This dataset is constructed by CDC, Centers for Disease Control and Prevention. NHANES is a major project of the National Center for Health Statistics (part of the CDC), and became a continuous project since 1999. The survey upadtes every year and contains records from 5000 people national wide.\nWe focus on the three questionnaire: Smoking - Cigarette Use, Smoking - Household Smokers, and Medical Conditions. Due to the Covid-19, data from cycle 2019-2020 is not completed and thus the department combine 2017-2018 with 2019-2020 to form a new version of data from 2017-2020, which is the latest version of data. We use this cycle given the great amount of records it provides.\nThis is how the data looks like:\n\n\nCode\n#read data\nhouseholds &lt;- read_xpt('data/households.XPT', \n                       col_select = c('SEQN', 'SMD470'))\nmedical &lt;- read_xpt('data/medical.XPT', \n                    col_select = c('SEQN', 'MCQ010', 'MCQ092', 'MCQ160A', \n                                   'MCQ160B', 'MCQ160C', 'MCQ160D', 'MCQ160E',\n                                   'MCQ160F', 'MCQ160M', 'MCQ160P', 'MCQ160L',\n                                   'MCQ550', 'MCQ560', 'MCQ220'))\nsmoke &lt;- read_xpt('data/smoke.XPT', \n                  col_select = c('SEQN', 'SMQ020', 'SMQ040', 'SMD650',\n                                 'SMD100FL', 'SMQ621'))\ndata &lt;- merge(households, smoke, by = 'SEQN')\ndata &lt;- merge(data, medical, by = 'SEQN')\nhead(data)\n\n\n    SEQN SMD470 SMQ020 SMQ040 SMD650 SMD100FL SMQ621 MCQ010 MCQ092 MCQ160A\n1 109264     NA     NA     NA     NA       NA      1      2      2      NA\n2 109266     NA      2     NA     NA       NA     NA      2      9       2\n3 109267     NA      2     NA     NA       NA     NA      2      2       2\n4 109268     NA      2     NA     NA       NA     NA      2      2      NA\n5 109271      2      1      1     20       NA     NA      1      2       1\n6 109273      0      1      1     15        1     NA      2      2       2\n  MCQ160B MCQ160C MCQ160D MCQ160E MCQ160F MCQ160M MCQ160P MCQ160L MCQ550 MCQ560\n1      NA      NA      NA      NA      NA      NA      NA      NA     NA     NA\n2       2       2       2       2       2       2       2       2      2      2\n3       2       2       2       2       2       2       2       2      2      2\n4      NA      NA      NA      NA      NA      NA      NA      NA     NA     NA\n5       2       2       2       2       2       2       1       2      2      2\n6       2       2       2       2       2       2       2       2      2      2\n  MCQ220\n1     NA\n2      2\n3      2\n4     NA\n5      2\n6      2\n\n\nThe Description of each variable is as below:\n\n\n\n\nIndex\nVariable Description\n\n\n\n\nSEQN\nRespondent sequence number\n\n\nSMD470\n# of people who smoke inside this home\n\n\nSMQ020\nSmoked at least 100 cigarettes in life\n\n\nSMQ040\nDo you now smoke cigarettes?\n\n\nSMD650\nAvg # cigarettes/day during past 30 days\n\n\nSMD100FL\nCigarette Filter type\n\n\nSMQ621\nCigarettes smoked in entire life\n\n\nMCQ010\nEver been told you have asthma\n\n\nMCQ092\nEver receive blood transfusion\n\n\nMCQ160A\nDoctor ever said you had arthritis\n\n\nMCQ160B\nEver told had heart failure\n\n\nMCQ160C\nEver told had coronary heart disease\n\n\nMCQ160D\nEver told had angina/angina pectoris\n\n\nMCQ160E\nEver told had heart attack\n\n\nMCQ160F\nEver told you had a stroke\n\n\nMCQ160M\nEver told you had thyroid problem\n\n\nMCQ160P\nEver told you had COPD, emphysema, ChB\n\n\nMCQ160L\nEver told you had any liver condition\n\n\nMCQ550\nHas DR ever said you have gallstones\n\n\nMCQ560\nEver had gallbladder surgery\n\n\nMCQ220\nEver told you had cancer or malignancy\n\n\n\n\nWe would like to use SMQ020-SMQ621 to reflect the personal smoking status and MCQ010-MCQ220 to indicate the personal health status, which contains doctor diagnoses to diverse types of diseases. We would also like to include SMD470 as a reflect of secondhand smoke exposure to find if there is any possibility that secondhand smoke exposure has effect to health."
  }
]